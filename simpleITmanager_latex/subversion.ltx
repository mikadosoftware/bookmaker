\documentclass[10pt,a4paper,english]{article}
\usepackage{babel}
\usepackage{ae}
\usepackage{aeguill}
\usepackage{shortvrb}
\usepackage[latin1]{inputenc}
\usepackage{tabularx}
\usepackage{longtable}
\setlength{\extrarowheight}{2pt}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{color}
\usepackage{multirow}
\usepackage{ifthen}
\usepackage[DIV12]{typearea}
% generated by Docutils <http://docutils.sourceforge.net/>
\newlength{\admonitionwidth}
\setlength{\admonitionwidth}{0.9\textwidth}
\newlength{\docinfowidth}
\setlength{\docinfowidth}{0.9\textwidth}
\newlength{\locallinewidth}
\newcommand{\optionlistlabel}[1]{\bf #1 \hfill}
\newenvironment{optionlist}[1]
{\begin{list}{}
  {\setlength{\labelwidth}{#1}
   \setlength{\rightmargin}{1cm}
   \setlength{\leftmargin}{\rightmargin}
   \addtolength{\leftmargin}{\labelwidth}
   \addtolength{\leftmargin}{\labelsep}
   \renewcommand{\makelabel}{\optionlistlabel}}
}{\end{list}}
\newlength{\lineblockindentation}
\setlength{\lineblockindentation}{2.5em}
\newenvironment{lineblock}[1]
{\begin{list}{}
  {\setlength{\partopsep}{\parskip}
   \addtolength{\partopsep}{\baselineskip}
   \topsep0pt\itemsep0.15\baselineskip\parsep0pt
   \leftmargin#1}
 \raggedright}
{\end{list}}
% begin: floats for footnotes tweaking.
\setlength{\floatsep}{0.5em}
\setlength{\textfloatsep}{\fill}
\addtolength{\textfloatsep}{3em}
\renewcommand{\textfraction}{0.5}
\renewcommand{\topfraction}{0.5}
\renewcommand{\bottomfraction}{0.5}
\setcounter{totalnumber}{50}
\setcounter{topnumber}{50}
\setcounter{bottomnumber}{50}
% end floats for footnotes
% some commands, that could be overwritten in the style file.
\newcommand{\rubric}[1]{\subsection*{~\hfill {\it #1} \hfill ~}}
\newcommand{\titlereference}[1]{\textsl{#1}}
% end of "some commands"
\ifthenelse{\isundefined{\hypersetup}}{
\usepackage[colorlinks=true,linkcolor=blue,urlcolor=blue]{hyperref}
}{}
\title{subversion}
\author{}
\date{}
\hypersetup{
pdftitle={subversion}
}
\raggedbottom
\begin{document}
\maketitle

\setlength{\locallinewidth}{\linewidth}


%___________________________________________________________________________

\hypertarget{source-control}{}
\pdfbookmark[0]{Source control}{source-control}
\section*{Source control}
\label{source-control}


%___________________________________________________________________________

\hypertarget{install-and-configure}{}
\pdfbookmark[0]{install and configure}{install-and-configure}
\section*{install and configure}
\label{install-and-configure}
\begin{itemize}
\item {} 
install from ports, ensuring we use the BDB backend

WITH{\_}BDB=true

\end{itemize}

we create a single location for our repository.
\begin{quote}{\ttfamily \raggedright \noindent
svnadmin~create~/usr/home/pbrian/repos/PBRIAN
}\end{quote}

set up users and passwords, assuming you use the svnserve daemon which is
a fairly easy network approach.
\begin{quote}

{\textless}repository{\textgreater}/conf/svnserve.conf
- uncomment the lines below
anon-access = read
auth-access = write
password-db = passwd
realm = paul-brian.com

svnserve -r /usr/home/pbrian/repos -d
svnserve -r /usr/home/pbrian/repos -d -{}-listen-host localhost
\end{quote}

now I should be able to see all that is going on in my repository with
\begin{quote}

svn ls svn://localhost/PBRIAN
\end{quote}

for debugging the first time, I find the below useful:
\begin{quote}{\ttfamily \raggedright \noindent
svnserve~-r~/usr/home/pbrian/repos~-{}-listen-host~localhost~-X~\\
<this~listens~on~my~localhost>
}\end{quote}

I do not have to have the svnserve running all the time. in fact it could be a security risk


%___________________________________________________________________________

\hypertarget{so-far}{}
\pdfbookmark[1]{so far}{so-far}
\subsection*{so far}
\label{so-far}

I have a listening svn daemon on my machine, and a repository.
The svn daemon is listening for all repositorys at /home/pbrian/repos
At the moment only PBRIAN repository exists, so i need to access
the repository as follows
\begin{quote}

svn ls svn://localhost/PBRIAN/
\end{quote}


%___________________________________________________________________________

\hypertarget{autostarting}{}
\pdfbookmark[1]{Autostarting}{autostarting}
\subsection*{Autostarting}
\label{autostarting}

The port has added to /usr/local/etc/rc.d (where startup scripts are kept)
a script \emph{svnserve}

This script has 3 important changes
\begin{itemize}
\item {} 
the path to the repository directory

\item {} 
the user and group svn

\end{itemize}

I shall change the path to the one above. But I need to add a user and group called svn
(it could be anything but that is a sensible default)
\begin{quote}

pbrianlap{\#} pw group add svn
pbrianlap{\#} pw user add svn -g svn

chown -R svn:svn /usr/home/pbrian/repos/
(this last is easy to forget - svn user needs to be able to write to the repository)
\end{quote}


%___________________________________________________________________________

\hypertarget{first-time-setting-up-a-working-directory}{}
\pdfbookmark[1]{first time - setting up a working directory}{first-time-setting-up-a-working-directory}
\subsection*{first time - setting up a working directory}
\label{first-time-setting-up-a-working-directory}

Firstly - think how you will be setting up the work.
I am writing a book-cum-website. It is fairly linear and simple, so I will
keep to the recommended 'trunk-tag-branch' approach
I cannot imagine having many branches, the book will not diverge a lot, so
I shall create a file struncture as below
\begin{quote}

/usr/home/pbrian/thebook
-tags
-trunk

Unexpected indentation.

\begin{quote}
\begin{optionlist}{3cm}
\item [-thebook]  
-introduction.chp
\end{optionlist}
\end{quote}
\end{quote}
\begin{quote}{\ttfamily \raggedright \noindent
svn~import~thebook~svn://localhost/PBRIAN~-m~'my~first~import'
}\end{quote}

you will be asked for you authentication password and username.
these then get cached by svn for next time.


%___________________________________________________________________________

\hypertarget{directories-and-stuff}{}
\pdfbookmark[1]{Directories and stuff}{directories-and-stuff}
\subsection*{Directories and stuff}
\label{directories-and-stuff}

checkouts can be awkward.
the difference between these two commands for example
\begin{quote}

svn co svn://localhost/PBRIAN/

svn co svn://localhost/PBRIAN/ ./
\end{quote}

pbrianlap{\#} svn co svn://localhost/PBRIAN/
A    PBRIAN/trunk
A    PBRIAN/trunk/build
A    PBRIAN/trunk/build/build.log
A    PBRIAN/trunk/build/tools
A    PBRIAN/trunk/build/tools/build{\_}pkg{\_}maker

pbrianlap{\#} svn co svn://localhost/PBRIAN/ ./
A    trunk
A    trunk/build
A    trunk/build/build.log
A    trunk/build/tools
A    trunk/build/tools/build{\_}pkg{\_}maker

\end{document}
