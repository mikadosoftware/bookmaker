<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Pauls notes on home freebsd
</title>
  
  <link rel="stylesheet" href="/root/foo/css/cookbook.css" type="text/css" />


</head>

<body>

<div id="header">

<img src="/root/foo/img/tour_tonbridge.jpg" 
         style="width:100%; position:relative; top:-10px;"
         alt="itmanagerscookbook.com"
         title="IT Manager's CookBook"
         />

   <ul style="width:50%;">
     <li><a href="/root/foo/Introduction/WhatsGoingOnHere.html">What's all this?</a></li>
     <li><a href="/root/foo/Introduction/introduction.html">Introduction</a></li>
     <li><a href="/root/foo/index.html">Contents</a></li>

   </ul>
</div>

<div class="colmask rightmenu">
    <div class="colleft">
        <div class="col1wrap">
            <div class="col1">
                <!-- Column 1 start -->
<h1 class="title">Pauls notes on home freebsd</h1>
<div class="section" id="bloody-router">
<h2>bloody router</h2>
<p>getting around my router.  It refuses active FTP and stuffs up
DNS caching so, install from CD as usual, but choose DHCP instead of fixed IP and
use passive FTP to download binaries</p>
</div>
<div class="section" id="install-process-from-boot-only-cd">
<h2>Install process from boot only CD</h2>
<ol class="arabic simple">
<li>boot from CD</li>
<li>choose appropriate settings, and install from FTP</li>
<li>CHoose passive FTP</li>
<li>choose DHCP so that my router will think this host exists</li>
<li>Now download from FTP sites a minimal install</li>
<li>port_add -r cvsup-without-gui; rehash</li>
<li>&quot;reply from unexpected source&quot; - some DNS resolutions will go out from my router
and then not be cached by the router, but will be sent direct to me from the external DNS
My machine will get worried by this (man in the middle ?).
THe way to fix is either try a diff URL or change /etc/resolv.conf after DHCP assigned</li>
<li>ports install and src install
use the ports supfiles as in the folder</li>
</ol>
<p>$ make install sysutils/screen</p>
</div>
<div class="section" id="the-basics-from-now">
<h2>The basics from now</h2>
<ul class="simple">
<li>ports and src install</li>
<li>(re)BuildWorld</li>
<li>installing ports</li>
<li>upgrading ports</li>
<li>keeping track of what is there</li>
<li>Building X</li>
</ul>
</div>
<div class="section" id="sysadmin-stuff">
<h2>Sysadmin stuff</h2>
<ul class="simple">
<li>backups</li>
<li>DNS</li>
<li>Email</li>
<li>Firewalls</li>
<li>web, cherrypy, wsgi,</li>
<li>mysql</li>
</ul>
</div>
<div class="section" id="ports-and-src-install">
<h2>ports and src install</h2>
<p>using files in current folder</p>
<p>cvsup ports-supfile; cvsup src-supfile</p>
<p>THis should be run reguarly (daily?)</p>
</div>
<div class="section" id="re-buildworld">
<h2>(re)BuildWorld</h2>
<p>Why do we do this?:</p>
<pre class="literal-block">
&quot;To take full advantage of your new system you should recompile the kernel. This is practically a necessity, as certain memory structures may have changed, and programs like ps(1) and top(1) will fail to work until the kernel and source code versions are the same.&quot;
http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/makeworld.html
</pre>
<p>In short, if we change the src code, we will almost always need to change the kernel too.
So if we rebuild world, that is the FreeBSD specifically written stuff,
we will need to change the kernel too. It makes sense</p>
<p>1. Alter make.conf
NO_PROFILE=    true    #    Avoid compiling profiled libraries</p>
<ol class="arabic simple" start="2">
<li>make -j4 buildworld</li>
</ol>
<p># cd /usr/src
# make buildkernel KERNCONF=MYKERNEL
# make installkernel KERNCONF=MYKERNEL</p>
<p>reboot (single user)</p>
<p># cd /usr/src
# make installworld</p>
<p>mergemaster - I need more help on this. but take defaults for now. On a running system
a bit harder...maybe a thing that compares the defaults against my changes and new changes...</p>
</div>
<div class="section" id="keeping-track">
<h2>Keeping track</h2>
<p>WHat has changed with each cvsup?
- cvsup tells us, but knowing if it is important is anothr matter
- if it is in src/lib it is probably worth a rebuild...
- and of course we like to use Freebsd-stable instead.</p>
<div class="section" id="x11">
<h3>X11</h3>
<p>/usr/ports/x11-fonts/ttmkfdir</p>
<p>fonts
C:WINDOWSFonts
http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/x-fonts.html
pscp <a href="#id1"><span class="problematic" id="id2">*</span></a>.ttf <a class="reference external" href="mailto:root&#64;192.168.1.11">root&#64;192.168.1.11</a>:/usr/local/lib/X11/fonts/TrueType/
add line to xorg.conf
FontPath &quot;/usr/X11R6/lib/X11/fonts/URW&quot;
type 1 fonts make</p>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">&lt;string&gt;</tt>, line 111); <em><a href="#id2">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</div>
</div>
<div class="section" id="xdm">
<h2>XDM</h2>
<dl class="docutils">
<dt>can be set as a tty -</dt>
<dd>ttyv8   &quot;/usr/local/bin/xdm -nodaemon&quot;  xterm   off secure</dd>
</dl>
<p>config</p>
<blockquote>
usr/local/lib/X11/xdm</blockquote>
<p>windows mgr</p>
<p><a class="reference external" href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/x11-wm.html">http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/x11-wm.html</a>
# cd /usr/ports/x11-wm/xfce4
# make install clean</p>
<p>% echo &quot;/usr/local/bin/startxfce4&quot; &gt; ~/.xinitrc</p>
</div>
<div class="section" id="phone-line">
<h2>Phone Line</h2>
<p>Phone Line - ADSL Filter - DSL Modem - Ethernet Out - Own FIrewall/router - WIFI?</p>
<p><a class="reference external" href="http://www.broadbandbuyer.co.uk/Shop/ShopDetail.asp?ProductID=4122">http://www.broadbandbuyer.co.uk/Shop/ShopDetail.asp?ProductID=4122</a></p>
<div class="section" id="dns">
<h3>DNS</h3>
<p>BIND8 is installed by default
named_enable=&quot;YES&quot;</p>
</div>
<div class="section" id="ntp">
<h3>NTP</h3>
</div>
<div class="section" id="ftp">
<h3>FTP</h3>
</div>
<div class="section" id="nfs">
<h3>NFS</h3>
</div>
</div>

				<!-- Column 1 end -->
            </div>
        </div>
        <div class="col2">
            <!-- Column 2 start -->
Hello. Do come in. Please take a seat and have a look around.
My name is Paul Brian and this is my online home.
Some <a href="">more about me</a>

<h2>IT matters</h2>
It is a cliche but, computing is going to change the world. And it will take skilled and determined people at the highest reaches of companies and institutions to make that change create better, more human and more interesting places to live and work.  I call those people <em>IT Managers</em>.   

<h2>SoHo From Scratch</h2>
<em>Every</em> IT manager <em>should</em> be able to build and run a complete Small Office or Home Office Network, in the same way every chef should be able to prepare a 3 course meal.  The fact that many people called IT managers cannot is one of the reasons I have written this site.  This area is the more traditional "how to" - a collection of recipies if you will.


<h2>Beyond Recipies</h2>
Not everything is about configuring systems. Most of the job is configuring people, and the <em>trade secrets</em> of IT management.  I give my opinions on everything from project management to out-greening the competition. The youngsters round 'ere think I am a dinosaur.  


<h2>Other Points of View</h2>
A collection of interviews and commentaries from other IT Managers, trying to capture the essence of this craft, and hopefully a funny story or two.





			<!-- Column 2 end -->

        </div>
    </div>
</div>

<div id="footer">
    The IT Managers CookBook

</div>

<!-- google analytics -->

</body>
</html>
