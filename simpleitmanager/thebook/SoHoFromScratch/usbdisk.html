<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>USB
</title>
  
  <link rel="stylesheet" href="/root/foo/css/cookbook.css" type="text/css" />


</head>

<body>

<div id="header">

<img src="/root/foo/img/tour_tonbridge.jpg" 
         style="width:100%; position:relative; top:-10px;"
         alt="itmanagerscookbook.com"
         title="IT Manager's CookBook"
         />

   <ul style="width:50%;">
     <li><a href="/root/foo/Introduction/WhatsGoingOnHere.html">What's all this?</a></li>
     <li><a href="/root/foo/Introduction/introduction.html">Introduction</a></li>
     <li><a href="/root/foo/index.html">Contents</a></li>

   </ul>
</div>

<div class="colmask rightmenu">
    <div class="colleft">
        <div class="col1wrap">
            <div class="col1">
                <!-- Column 1 start -->
<h1 class="title">USB</h1>
<p>Basic process:</p>
<p>Get a good, that either works with your existing controller or also
get a controller with is.   eg.  If it is SCSI and you only have SATA
you will need another controller, etc.</p>
<p>Install it in the box and boot the machine.</p>
<p>Observe the boot messages or use dmesg to make sure it is recognized
and that you know how the system is identified.  It will probably
be either da1 or ad1 depending on whether it is SCSI or SATA.</p>
<p>Decide on how you want the new disk divided.</p>
<p>Use fdisk     to create a FreeBSD slice on the disk</p>
<dl class="docutils">
<dt>Use bsdlabel    (or disklabel for 4.xxx systems and before)</dt>
<dd>to create at least one partition within the slice.</dd>
<dt>Use newfs     to build a filesystem on all of the partitions you create</dt>
<dd>with bsdlabel.</dd>
</dl>
<p>create a mount point  (for example   'mkdir /newdsk')</p>
<p>Edit the  /etc/fstab  file to add an entry to make it mount upon boot.</p>
<p>Mount the new disk    (For example   'mount /newdsk' or just  'mount -a')</p>
<p>The man pages for fdisk, bsdlabel and newfs have all the information
you need but can be a little confusing.   In the bsdlabel man page
there are some examples near the bottom that are good.  They suggest
using  dd to overwrite anything that might preexist in the first sector.
That isn't always needed, but can fix things if that sector is a problem.
Actually, I usually write around the first 100 sectors just for good
measure when I need it.</p>
<p>The only more complicated things are if you want to make more than
one partition and/or slice, and if you want to be able to boot from it.
More slices and partitions amounts to the same, but just require some
calculations.   Making it bootable requires using -B on both fdisk
and bsdlabel.</p>
<p>All this can also be done using sysinstall, but I prefer doing it
straight up with the regular tools.</p>
<p>Read the man pages.</p>
<p>Good luck,</p>
<hr class="docutils" />
<p><a class="reference external" href="http://lists.freebsd.org/pipermail/freebsd-questions/2006-June/123638.html">http://lists.freebsd.org/pipermail/freebsd-questions/2006-June/123638.html</a></p>
<p><a class="reference external" href="http://www.freebsd.org/doc/en/books/handbook/disks-adding.html">http://www.freebsd.org/doc/en/books/handbook/disks-adding.html</a>
18.3.2.2 Dedicated</p>
<p>If you will not be sharing the new drive with another operating system, you may use the dedicated mode. Remember this mode can confuse Microsoft operating systems; however, no damage will be done by them. IBM's OS/2(R) however, will &quot;appropriate&quot; any partition it finds which it does not understand.</p>
<p># dd if=/dev/zero of=/dev/da1 bs=1k count=1
# bsdlabel -Bw da1 auto
# bsdlabel -e da1               # create the <a href="#id1"><span class="problematic" id="id2">`</span></a>e' partition
# newfs /dev/da1e
# mkdir -p /1
# vi /etc/fstab               # add an entry for /dev/da1e
# mount /1</p>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">&lt;string&gt;</tt>, line 64); <em><a href="#id2">backlink</a></em></p>
Inline interpreted text or phrase reference start-string without end-string.</div>
<p># bsdlabel -e da0</p>
<p>used to say
# /dev/da0:
8 partitions:
#        size   offset    fstype   [fsize bsize bps/cpg]</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">&lt;string&gt;</tt>, line 80)</p>
Unexpected indentation.</div>
<blockquote>
a: 15646704       16    unused        0     0
c: 15646720        0    unused        0     0         # &quot;raw&quot; part, don't edit</blockquote>
<p>now I adjusted it</p>
<dl class="docutils">
<dt>#        size   offset    fstype   [fsize bsize bps/cpg]</dt>
<dd>a:  1048576       16    unused        0     0
c: 15646720        0    unused        0     0         # &quot;raw&quot; part, don't edit
e: 10485760  1048592    4.2BSD     2048 16384 28552</dd>
</dl>
<p># actually I entered
e: 5G     *    4.2BSD
it did the rest of the calculatoions</p>
<p>amazingly it worked</p>

				<!-- Column 1 end -->
            </div>
        </div>
        <div class="col2">
            <!-- Column 2 start -->
Hello. Do come in. Please take a seat and have a look around.
My name is Paul Brian and this is my online home.
Some <a href="">more about me</a>

<h2>IT matters</h2>
It is a cliche but, computing is going to change the world. And it will take skilled and determined people at the highest reaches of companies and institutions to make that change create better, more human and more interesting places to live and work.  I call those people <em>IT Managers</em>.   

<h2>SoHo From Scratch</h2>
<em>Every</em> IT manager <em>should</em> be able to build and run a complete Small Office or Home Office Network, in the same way every chef should be able to prepare a 3 course meal.  The fact that many people called IT managers cannot is one of the reasons I have written this site.  This area is the more traditional "how to" - a collection of recipies if you will.


<h2>Beyond Recipies</h2>
Not everything is about configuring systems. Most of the job is configuring people, and the <em>trade secrets</em> of IT management.  I give my opinions on everything from project management to out-greening the competition. The youngsters round 'ere think I am a dinosaur.  


<h2>Other Points of View</h2>
A collection of interviews and commentaries from other IT Managers, trying to capture the essence of this craft, and hopefully a funny story or two.





			<!-- Column 2 end -->

        </div>
    </div>
</div>

<div id="footer">
    The IT Managers CookBook

</div>

<!-- google analytics -->

</body>
</html>
